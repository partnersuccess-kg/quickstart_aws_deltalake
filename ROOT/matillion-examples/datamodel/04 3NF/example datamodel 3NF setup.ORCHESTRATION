{"job":{"components":{"391216":{"id":391216,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576485,"x":174,"y":-110,"width":32,"height":32,"inputConnectorIDs":[391238],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Log error 1"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"echo \"Table ${examples_database}.norm_equipment was not created\"\n"}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true},"4":{"slot":4,"name":"User","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Restricted"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"391217":{"id":391217,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-16,"y":-112,"width":32,"height":32,"inputConnectorIDs":[391226],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[391238],"outputUnconditionalConnectorIDs":[391225],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_equipment"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREATE TABLE `${examples_database}`.`norm_equipment` \n(\n    `equipment_id`    VARCHAR(64)    NOT NULL,\n    `name`            VARCHAR(256)   NOT NULL,\n    `fan_status_code` SMALLINT       NOT NULL\n) \nUSING DELTA"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"391218":{"id":391218,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576485,"x":176,"y":48,"width":32,"height":32,"inputConnectorIDs":[391233],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Log error 2"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"echo \"Table ${examples_database}.norm_bubble_event was not created\"\n"}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true},"4":{"slot":4,"name":"User","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Restricted"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"391219":{"id":391219,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-16,"y":48,"width":32,"height":32,"inputConnectorIDs":[391227],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[391233],"outputUnconditionalConnectorIDs":[391237],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_bubble_event"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREATE TABLE `${examples_database}`.`norm_bubble_event` \n(\n    `id`            BIGINT       NOT NULL,\n    `equipment_id`  VARCHAR(64)  NOT NULL,\n    `ts`            TIMESTAMP    NOT NULL\n) \nUSING DELTA"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"391222":{"id":391222,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-368,"y":48,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[391224,391226,391227],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"391223":{"id":391223,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":176,"y":208,"width":32,"height":32,"inputConnectorIDs":[391230],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[391239],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Master data"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"INSERT INTO `${examples_database}`.`norm_fan_status` \nVALUES (-1, 'Unknown'), (1001, 'normal'), (1002, 'malfunctioning'), (1003, 'unpowered')"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"391228":{"id":391228,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":235671163,"x":320,"y":-16,"width":32,"height":32,"inputConnectorIDs":[391225,391237,391239],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[391236],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"391229":{"id":391229,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-16,"y":208,"width":32,"height":32,"inputConnectorIDs":[391224],"outputSuccessConnectorIDs":[391230],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_fan_status"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREATE OR REPLACE TABLE `${examples_database}`.`norm_fan_status` \n(\n    `fan_status_code`  SMALLINT      NOT NULL,\n    `name`             VARCHAR(256)  NOT NULL\n) \nUSING DELTA"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"391231":{"id":391231,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":432,"y":-22,"width":32,"height":32,"inputConnectorIDs":[391236],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"example datamodel ODS to 3NF 0"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"example datamodel ODS to 3NF"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"391230":{"id":391230,"sourceID":391229,"targetID":391223}},"failureConnectors":{"391233":{"id":391233,"sourceID":391219,"targetID":391218},"391238":{"id":391238,"sourceID":391217,"targetID":391216}},"unconditionalConnectors":{"391224":{"id":391224,"sourceID":391222,"targetID":391229},"391225":{"id":391225,"sourceID":391217,"targetID":391228},"391226":{"id":391226,"sourceID":391222,"targetID":391217},"391227":{"id":391227,"sourceID":391222,"targetID":391219},"391236":{"id":391236,"sourceID":391228,"targetID":391231},"391237":{"id":391237,"sourceID":391219,"targetID":391228},"391239":{"id":391239,"sourceID":391223,"targetID":391228}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{"391208":{"id":391208,"x":-110,"y":138,"width":349,"height":124,"text":"Create **norm_fan_status**.\nIt contains ``fixed`` master data, so it is fine to recreate every time","colour":"00ce4f"},"391210":{"id":391210,"x":-614,"y":127,"width":303,"height":163,"text":"If you look at the data in the raw, staging or ODS tables (raw_iot_event, stg_iot_event or ods_iot_event) you will see a lot of duplicated values.\n\nThese three 3rd Normal Form tables contain the same data but they are **subject oriented**, which makes it more efficient and less vulnerable to problems.\n\nThese tables should not often get dropped and recreated, so the option here is usually \"CREATE\"","colour":"00ce4f"},"391211":{"id":391211,"x":-110,"y":-166,"width":346,"height":105,"text":"Create the **norm_equipment** table","colour":"00ce4f"},"391220":{"id":391220,"x":-784,"y":-200,"width":401,"height":182,"text":"``Run this job after completing 03 ODS``\n\nThis is an example of an ODS-to-3NF data transformation.\n\n3NF data structures represent the data in the most highly structured way. Data is converted from its ODS model into this centralized, unified, subject-oriented model. More discussion on this at [[https://www.matillion.com/resources/developer-relations/database-schema-types-examples-and-benefits]]\n\nAn 3NF layer should contain ``all`` the data from ``all`` the relevant source systems.","colour":"00ce4f"},"391221":{"id":391221,"x":-108,"y":-4,"width":347,"height":106,"text":"Create the **norm_bubble_event** table","colour":"00ce4f"}},"variables":{},"grids":{}},"info":{"name":"example datamodel 3NF setup","description":"","type":"ORCHESTRATION","tag":"296a742d-957d-4cf9-9cc3-2bca2a9756e3"}}