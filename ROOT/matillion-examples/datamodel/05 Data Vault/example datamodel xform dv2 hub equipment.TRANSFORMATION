{"job":{"components":{"391520":{"id":391520,"inputCardinality":"MANY","outputCardinality":"MANY","implementationID":-629958239,"x":512,"y":448,"width":32,"height":32,"inputConnectorIDs":[391536,391537],"outputConnectorIDs":[391543],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Hub Join"}}}},"visible":true},"2":{"slot":2,"name":"Main Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"v_hub_equipment_source"}}}},"visible":true},"3":{"slot":3,"name":"Main Table Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"new"}}}},"visible":true},"4":{"slot":4,"name":"Joins","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"h_equipment"},"2":{"slot":2,"type":"STRING","value":"x"},"3":{"slot":3,"type":"STRING","value":"Left"}}}},"visible":true},"5":{"slot":5,"name":"Join Expressions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"`new`.`equipment_id` = `x`.`equipment_id`"},"2":{"slot":2,"type":"STRING","value":"new_Left_x"}}}},"visible":true},"6":{"slot":6,"name":"Output Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"new.equipment_id"},"2":{"slot":2,"type":"STRING","value":"new_equipment_id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"new.name"},"2":{"slot":2,"type":"STRING","value":"name"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"new.fan_status"},"2":{"slot":2,"type":"STRING","value":"fan_status"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"x.equipment_id"},"2":{"slot":2,"type":"STRING","value":"x_equipment_id"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391521":{"id":391521,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":336,"y":448,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[391536],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"h_equipment"}}}},"visible":true},"2":{"slot":2,"name":"Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"h_equipment"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"equipment_id"}}}},"visible":true},"5":{"slot":5,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_database}"}}}},"visible":true},"6":{"slot":6,"name":"Offset Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"8":{"slot":8,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391522":{"id":391522,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":800,"y":448,"width":32,"height":32,"inputConnectorIDs":[391530],"outputConnectorIDs":[391542],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DV2 hub fields"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"MD5(`new_equipment_id`)"},"2":{"slot":2,"type":"STRING","value":"hashkey"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"'Operational'"},"2":{"slot":2,"type":"STRING","value":"record_source"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"CURRENT_TIMESTAMP()"},"2":{"slot":2,"type":"STRING","value":"load_timestamp"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391523":{"id":391523,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":656,"y":448,"width":32,"height":32,"inputConnectorIDs":[391543],"outputConnectorIDs":[391530],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Filter 0"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"x_equipment_id"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Null"},"4":{"slot":4,"type":"STRING","value":""}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391526":{"id":391526,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":336,"y":304,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[391537,391540],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"v_hub_equipment_source"}}}},"visible":true},"2":{"slot":2,"name":"Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"v_hub_equipment_source"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"equipment_id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"name"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"fan_status"}}}},"visible":true},"5":{"slot":5,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_database}"}}}},"visible":true},"6":{"slot":6,"name":"Offset Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"8":{"slot":8,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391528":{"id":391528,"inputCardinality":"ZERO_OR_MANY","outputCardinality":"MANY","implementationID":-1266674941,"x":800,"y":224,"width":32,"height":32,"inputConnectorIDs":[391538],"outputConnectorIDs":[391548],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SQL 0"}}}},"visible":true},"2":{"slot":2,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT *\nFROM $T{Sat Join}\nWHERE `x_hashkey` IS NULL\nOR `x_hashdiff` != `new_hashdiff`"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391529":{"id":391529,"inputCardinality":"MANY","outputCardinality":"MANY","implementationID":-629958239,"x":656,"y":224,"width":32,"height":32,"inputConnectorIDs":[391539,391541],"outputConnectorIDs":[391538],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Sat Join"}}}},"visible":true},"2":{"slot":2,"name":"Main Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DV2 sat fields"}}}},"visible":true},"3":{"slot":3,"name":"Main Table Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"new"}}}},"visible":true},"4":{"slot":4,"name":"Joins","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Latest only"},"2":{"slot":2,"type":"STRING","value":"x"},"3":{"slot":3,"type":"STRING","value":"Left"}}}},"visible":true},"5":{"slot":5,"name":"Join Expressions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"`new`.`hashkey` = `x`.`hashkey`"},"2":{"slot":2,"type":"STRING","value":"new_Left_x"}}}},"visible":true},"6":{"slot":6,"name":"Output Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"new.equipment_id"},"2":{"slot":2,"type":"STRING","value":"new_equipment_id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"new.name"},"2":{"slot":2,"type":"STRING","value":"new_name"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"new.fan_status"},"2":{"slot":2,"type":"STRING","value":"new_fan_status"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"new.hashkey"},"2":{"slot":2,"type":"STRING","value":"new_hashkey"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"new.record_source"},"2":{"slot":2,"type":"STRING","value":"new_record_source"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"new.load_timestamp"},"2":{"slot":2,"type":"STRING","value":"new_load_timestamp"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"new.hashdiff"},"2":{"slot":2,"type":"STRING","value":"new_hashdiff"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"new.latest_from_source"},"2":{"slot":2,"type":"STRING","value":"new_latest_from_source"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"x.hashkey"},"2":{"slot":2,"type":"STRING","value":"x_hashkey"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"x.hashdiff"},"2":{"slot":2,"type":"STRING","value":"x_hashdiff"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391531":{"id":391531,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":211954775,"x":976,"y":224,"width":32,"height":32,"inputConnectorIDs":[391548],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Append s_equipment"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"s_equipment"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_database}"}}}},"visible":true},"4":{"slot":4,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"new_hashkey"},"2":{"slot":2,"type":"STRING","value":"hashkey"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"new_load_timestamp"},"2":{"slot":2,"type":"STRING","value":"load_timestamp"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"new_record_source"},"2":{"slot":2,"type":"STRING","value":"record_source"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"new_latest_from_source"},"2":{"slot":2,"type":"STRING","value":"latest_from_source"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"new_hashdiff"},"2":{"slot":2,"type":"STRING","value":"hashdiff"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"new_equipment_id"},"2":{"slot":2,"type":"STRING","value":"equipment_id"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"new_fan_status"},"2":{"slot":2,"type":"STRING","value":"fan_status"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"new_name"},"2":{"slot":2,"type":"STRING","value":"name"}}}},"visible":true},"5":{"slot":5,"name":"Truncate","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Append"}}}},"visible":true},"6":{"slot":6,"name":"Fix Data Type Mismatches","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391532":{"id":391532,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":512,"y":304,"width":32,"height":32,"inputConnectorIDs":[391540],"outputConnectorIDs":[391541],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DV2 sat fields"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"MD5(`equipment_id`)"},"2":{"slot":2,"type":"STRING","value":"hashkey"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"'Operational'"},"2":{"slot":2,"type":"STRING","value":"record_source"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"CURRENT_TIMESTAMP()"},"2":{"slot":2,"type":"STRING","value":"load_timestamp"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"MD5(`equipment_id` || `name` || `fan_status`)"},"2":{"slot":2,"type":"STRING","value":"hashdiff"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"TRUE"},"2":{"slot":2,"type":"STRING","value":"latest_from_source"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391533":{"id":391533,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":211954775,"x":976,"y":448,"width":32,"height":32,"inputConnectorIDs":[391542],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Append h_equipment"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"h_equipment"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_database}"}}}},"visible":true},"4":{"slot":4,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"hashkey"},"2":{"slot":2,"type":"STRING","value":"hashkey"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"new_equipment_id"},"2":{"slot":2,"type":"STRING","value":"equipment_id"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"load_timestamp"},"2":{"slot":2,"type":"STRING","value":"load_timestamp"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"record_source"},"2":{"slot":2,"type":"STRING","value":"record_source"}}}},"visible":true},"5":{"slot":5,"name":"Truncate","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Append"}}}},"visible":true},"6":{"slot":6,"name":"Fix Data Type Mismatches","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391534":{"id":391534,"inputCardinality":"ZERO_OR_MANY","outputCardinality":"MANY","implementationID":-1266674941,"x":512,"y":160,"width":32,"height":32,"inputConnectorIDs":[391549],"outputConnectorIDs":[391539],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Latest only"}}}},"visible":true},"2":{"slot":2,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT *\nFROM $T{s_equipment}\nWHERE `latest_from_source`"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391535":{"id":391535,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":336,"y":160,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[391549],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"s_equipment"}}}},"visible":true},"2":{"slot":2,"name":"Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"s_equipment"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"hashkey"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"latest_from_source"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"hashdiff"}}}},"visible":true},"5":{"slot":5,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_database}"}}}},"visible":true},"6":{"slot":6,"name":"Offset Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"8":{"slot":8,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"391530":{"id":391530,"sourceID":391523,"targetID":391522},"391536":{"id":391536,"sourceID":391521,"targetID":391520},"391537":{"id":391537,"sourceID":391526,"targetID":391520},"391538":{"id":391538,"sourceID":391529,"targetID":391528},"391539":{"id":391539,"sourceID":391534,"targetID":391529},"391540":{"id":391540,"sourceID":391526,"targetID":391532},"391541":{"id":391541,"sourceID":391532,"targetID":391529},"391542":{"id":391542,"sourceID":391522,"targetID":391533},"391543":{"id":391543,"sourceID":391520,"targetID":391523},"391548":{"id":391548,"sourceID":391528,"targetID":391531},"391549":{"id":391549,"sourceID":391535,"targetID":391534}},"notes":{"391512":{"id":391512,"x":114,"y":435,"width":152,"height":40,"text":"Only the Business Key column(s) from the Hub table","colour":"00ce4f"},"391514":{"id":391514,"x":726,"y":154,"width":154,"height":119,"text":"Only records where there is no existing Satellite, or where the hashcode has changed","colour":"00ce4f"},"391515":{"id":391515,"x":469,"y":368,"width":234,"height":133,"text":"This is an anti-join.\nIt only passes records that do **not** already exist in the Hub table","colour":"00ce4f"},"391524":{"id":391524,"x":115,"y":135,"width":152,"height":40,"text":"Hashcodes and latest-flag from the Satellite table","colour":"00ce4f"},"391525":{"id":391525,"x":114,"y":284,"width":152,"height":40,"text":"New record(s)","colour":"00ce4f"},"391527":{"id":391527,"x":142,"y":36,"width":830,"height":40,"text":"Maintain the Data Vault 2.0 Hub and Satellite tables for the Equipment ensemble","colour":"e6e63c"}},"noteConnectors":{},"variables":{},"grids":{}},"info":{"name":"example datamodel xform dv2 hub equipment","description":"","type":"TRANSFORMATION","tag":"47df2995-6900-4333-92e6-c501947bd406"}}