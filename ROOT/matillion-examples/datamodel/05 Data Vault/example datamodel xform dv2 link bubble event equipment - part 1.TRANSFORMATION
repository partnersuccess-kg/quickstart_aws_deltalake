{"job":{"components":{"391578":{"id":391578,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":688,"y":128,"width":32,"height":32,"inputConnectorIDs":[391586],"outputConnectorIDs":[391585],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DV2 link fields"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"MD5(`equipment_id`||`ts`)"},"2":{"slot":2,"type":"STRING","value":"bubble_event_hashkey"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"MD5(`equipment_id`)"},"2":{"slot":2,"type":"STRING","value":"equipment_hashkey"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"MD5(`equipment_alias`||`equipment_id`||`ts`)"},"2":{"slot":2,"type":"STRING","value":"hashkey"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"'Operational'"},"2":{"slot":2,"type":"STRING","value":"record_source"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"CURRENT_TIMESTAMP()"},"2":{"slot":2,"type":"STRING","value":"load_timestamp"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"TRUE"},"2":{"slot":2,"type":"STRING","value":"latest_from_source"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"MD5(`ts`)"},"2":{"slot":2,"type":"STRING","value":"hashdiff"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391579":{"id":391579,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":564,"y":130,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[391586],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"v_bubble_event_source"}}}},"visible":true},"2":{"slot":2,"name":"Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"v_bubble_event_source"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ts"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"equipment_alias"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"equipment_id"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"temperature"}}}},"visible":true},"5":{"slot":5,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_database}"}}}},"visible":true},"6":{"slot":6,"name":"Offset Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"8":{"slot":8,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391588":{"id":391588,"inputCardinality":"MANY","outputCardinality":"MANY","implementationID":-629958239,"x":880,"y":48,"width":32,"height":32,"inputConnectorIDs":[391585,391597],"outputConnectorIDs":[391587],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Link Join"}}}},"visible":true},"2":{"slot":2,"name":"Main Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DV2 link fields"}}}},"visible":true},"3":{"slot":3,"name":"Main Table Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"new"}}}},"visible":true},"4":{"slot":4,"name":"Joins","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"l_bubble_event_equipment_link"},"2":{"slot":2,"type":"STRING","value":"x"},"3":{"slot":3,"type":"STRING","value":"Left"}}}},"visible":true},"5":{"slot":5,"name":"Join Expressions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"`new`.`bubble_event_hashkey` = `x`.`bubble_event_hashkey`\nAND `new`.`equipment_hashkey` = `x`.`equipment_hashkey`"},"2":{"slot":2,"type":"STRING","value":"new_Left_x"}}}},"visible":true},"6":{"slot":6,"name":"Output Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"new.ts"},"2":{"slot":2,"type":"STRING","value":"ts"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"new.equipment_alias"},"2":{"slot":2,"type":"STRING","value":"equipment_alias"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"new.equipment_id"},"2":{"slot":2,"type":"STRING","value":"equipment_id"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"new.temperature"},"2":{"slot":2,"type":"STRING","value":"temperature"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"new.bubble_event_hashkey"},"2":{"slot":2,"type":"STRING","value":"bubble_event_hashkey"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"new.equipment_hashkey"},"2":{"slot":2,"type":"STRING","value":"equipment_hashkey"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"new.hashkey"},"2":{"slot":2,"type":"STRING","value":"hashkey"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"new.record_source"},"2":{"slot":2,"type":"STRING","value":"record_source"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"new.load_timestamp"},"2":{"slot":2,"type":"STRING","value":"load_timestamp"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"new.latest_from_source"},"2":{"slot":2,"type":"STRING","value":"latest_from_source"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"new.hashdiff"},"2":{"slot":2,"type":"STRING","value":"hashdiff"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"x.bubble_event_hashkey"},"2":{"slot":2,"type":"STRING","value":"x_bubble_event_hashkey"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"x.equipment_hashkey"},"2":{"slot":2,"type":"STRING","value":"x_equipment_hashkey"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391589":{"id":391589,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":560,"y":-16,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[391597],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"l_bubble_event_equipment_link"}}}},"visible":true},"2":{"slot":2,"name":"Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"l_bubble_event_equipment_link"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"bubble_event_hashkey"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"equipment_hashkey"}}}},"visible":true},"5":{"slot":5,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_database}"}}}},"visible":true},"6":{"slot":6,"name":"Offset Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"8":{"slot":8,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391590":{"id":391590,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":335239424,"x":1312,"y":48,"width":32,"height":32,"inputConnectorIDs":[391584],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Rewrite tmp_bubble_event_equipment_link"}}}},"visible":true},"2":{"slot":2,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_database}"}}}},"visible":true},"3":{"slot":3,"name":"Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"tmp_bubble_event_equipment_link"}}}},"visible":true},"4":{"slot":4,"name":"Partition Keys","elements":{},"visible":true},"5":{"slot":5,"name":"Table Properties","elements":{},"visible":true},"6":{"slot":6,"name":"Comment","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"391591":{"id":391591,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":1024,"y":48,"width":32,"height":32,"inputConnectorIDs":[391587],"outputConnectorIDs":[391584],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Filter 0"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"x_bubble_event_hashkey"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Null"},"4":{"slot":4,"type":"STRING","value":""}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"x_equipment_hashkey"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Null"},"4":{"slot":4,"type":"STRING","value":""}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"391584":{"id":391584,"sourceID":391591,"targetID":391590},"391585":{"id":391585,"sourceID":391578,"targetID":391588},"391586":{"id":391586,"sourceID":391579,"targetID":391578},"391587":{"id":391587,"sourceID":391588,"targetID":391591},"391597":{"id":391597,"sourceID":391589,"targetID":391588}},"notes":{"391576":{"id":391576,"x":1125,"y":-135,"width":359,"height":252,"text":"It is important that you do **not** insert the actual link or satellite table here. If you do, multiple DML statements are generated and the results can be non deterministic.\n\nInstead, persist the intermediate results and continue with part 2.\n\nFor more information and background on this, please refer to\n[[https://www.matillion.com/resources/developer-relations/developing-workflows-in-matillion-etl]]","colour":"f9c21b"},"391577":{"id":391577,"x":832,"y":-43,"width":234,"height":133,"text":"This is an anti-join.\nIt only passes records that do **not** already exist in the Link table","colour":"00ce4f"},"391582":{"id":391582,"x":358,"y":-47,"width":152,"height":40,"text":"Only the Primary Key column(s) from the Link table","colour":"00ce4f"},"391583":{"id":391583,"x":358,"y":97,"width":152,"height":40,"text":"New record(s)","colour":"00ce4f"}},"noteConnectors":{},"variables":{},"grids":{}},"info":{"name":"example datamodel xform dv2 link bubble event equipment - part 1","description":"","type":"TRANSFORMATION","tag":"d3c9dad8-b42b-4e2d-a4d0-d2021ad4e102"}}